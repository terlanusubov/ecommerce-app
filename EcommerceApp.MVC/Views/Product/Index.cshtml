@model ProductDto
 <!-- breadcrumb-area-start -->
<section class="breadcrumb-area" data-background="/img/bg/page-title.png">
    <div class="container">
        <div class="row">
            <div class="col-xl-12">
                <div class="breadcrumb-text text-center">
                    <h1>Our Shop</h1>
                    <ul class="breadcrumb-menu">
                        <li><a href="@Url.Action("Index","Home")">home</a></li>
                        <li><span>shop details</span></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- breadcrumb-area-end -->
<!-- shop-area start -->
<section class="shop-details-area pt-100 pb-100">
    <div class="container">
        <div class="row">
            <div class="col-xl-6 col-lg-4">
                <div class="product-details-img mb-10">
                    <div class="tab-content" id="myTabContentpro">

                        @{

                            var counter = 0;
                        }
                        <div class="tab-pane fade show active" id="main_image" role="tabpanel">
                            <div class="product-large-img">
                                <img src="@Model.MainImage" alt="">
                            </div>
                        </div>


                        @foreach (var item in Model.Images)
                        {

                            <div class="tab-pane fade" id="image_@counter" role="tabpanel">
                                <div class="product-large-img">
                                    <img src="@item" alt="">
                                </div>
                            </div>

                            counter++;
                        }

                    </div>
                </div>
                <div class="shop-thumb-tab mb-30">
                    <ul class="nav" id="myTab2" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" id="home-tab" data-toggle="tab" href="#main_image" role="tab" aria-selected="true">
                                <img src="@Model.MainImage" alt="">
                            </a>
                        </li>

                        @{
                            counter = 0;
                        }
                        @foreach (var item in Model.Images)
                        {
                            <li class="nav-item">
                                <a class="nav-link" id="image_@counter" data-toggle="tab" href="#image_@counter" role="tab" aria-selected="false">
                                    <img src="@item" alt="">
                                </a>
                            </li>

                            counter++;
                        }

                    </ul>
                </div>
            </div>
            <div class="col-xl-6 col-lg-8">
                <div class="product-details mb-30 pl-30">
                    <div class="details-cat mb-20">
                        <a href="#">@Model.CategoryName</a>
                    </div>
                    <h2 class="pro-details-title mb-15">@Model.Name</h2>
                    <div class="details-price mb-20">
                        @if (Model.AfterDiscountPrice != null)
                        {
                            <span>$@Model.AfterDiscountPrice USD</span>
                            <span class="old-price">$@Model.Price USD</span>
                        }
                        else
                        {
                            <span>$@Model.Price USD</span>
                        }

                    </div>
                    <div class="product-variant">

                        <div class="product-color variant-item">
                            <div class="variant-name">
                                <span>Colors</span>
                            </div>
                            <ul class="shop-link shop-color">
                                @foreach (var item in Model.Colors)
                                {
                                    if (item.Any(c => c.ProductId == Model.ProductId))
                                    {
                                        <li class="active"><a href="@Url.Action("Index", "Product", new { productId = Model.ProductId , color = item.Key})"><span style="background:@item.Key" class="@item.Key"></span></a></li>
                                    }
                                    else
                                    {
                                        <li><a href="@Url.Action("Index", "Product", new { productId = item.FirstOrDefault()?.ProductId, color = item.Key })"><span style="background:@item.Key" class="@item.Key"></span></a></li>
                                    }

                                }

                            </ul>
                        </div>

                        <div class="product-size variant-item">
                            <div class="variant-name">
                                <span>size</span>
                            </div>
                            <ul class="shop-link shop-size">
                                @foreach (var item in Model.Sizes)
                                {
                                    if (item.Any(c => c.ProductId == Model.ProductId))
                                    {
                                        <li class="active"><a href="@Url.Action("Index","Product",new { productId = Model.ProductId})">@item.Key   </a></li>
                                    }
                                    else
                                    {
                                        <li><a href="@Url.Action("Index","Product",new { productId = item.FirstOrDefault()?.ProductId})">@item.Key   </a></li>
                                    }

                                }


                            </ul>
                        </div>

                        <div class="product-desc variant-item">
                            <p>
                                @Model.ShortDesc
                            </p>
                        </div>

                        <div class="product-info-list variant-item">
                            <ul>
                                <li><span>Brands:</span> @Model.BrandName</li>
                                <li><span>Product Code:</span> @Model.ProductCode</li>
                                @if (Model.HasStock)
                                {
                                    <li><span>Stock:</span> <span class="in-stock">In Stock</span></li>
                                }
                                else
                                {
                                    //todo: in stock sozunu deyis
                                    <li><span>Stock:</span> <span class="in-stock">Out of Stock</span></li>
                                }
                            </ul>
                        </div>

                        <div class="product-action-details variant-item">
                            <div class="product-details-action">
                                <form action="#">
                                    <div class="plus-minus">
                                        <div class="cart-plus-minus"><input type="text" value="1" /></div>
                                    </div>
                                    <button class="details-action-icon" type="submit"><i class="fas fa-heart"></i></button>
                                    <button class="details-action-icon" type="submit"><i class="fas fa-hourglass"></i></button>
                                    <div class="details-cart mt-40">
                                        <button class="btn theme-btn">purchase now</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row mt-50">
            <div class="col-xl-8 col-lg-8">
                <div class="product-review">
                    <ul class="nav review-tab" id="myTabproduct" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" id="home-tab6" data-toggle="tab" href="#home6" role="tab" aria-controls="home"
                               aria-selected="true">Description </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="profile-tab6" data-toggle="tab" href="#profile6" role="tab" aria-controls="profile"
                               aria-selected="false">Reviews (2)</a>
                        </li>
                    </ul>
                    <div class="tab-content" id="myTabContent2">
                        <div class="tab-pane fade show active" id="home6" role="tabpanel" aria-labelledby="home-tab6">
                            <div class="desc-text">
                                <p>
                                    @Model.Description
                                </p>

                            </div>
                        </div>
                        <div class="tab-pane fade" id="profile6" role="tabpanel" aria-labelledby="profile-tab6">
                            <div class="desc-text review-text">
                                <div class="product-commnets">
                                    <div class="product-commnets-list mb-25 pb-15">
                                        <div class="pro-comments-img">
                                            <img src="img/product/comments/01.png" alt="">
                                        </div>
                                        <div class="pro-commnets-text">
                                            <h4>
                                                Roger West -
                                                <span>June 5, 2018</span>
                                            </h4>
                                            <div class="pro-rating">
                                                <i class="far fa-star"></i>
                                                <i class="far fa-star"></i>
                                                <i class="far fa-star"></i>
                                                <i class="far fa-star"></i>
                                            </div>
                                            <p>
                                                Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor
                                                incididunt
                                                ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
                                                exercitation.
                                            </p>
                                        </div>
                                    </div>
                                    <div class="product-commnets-list mb-25 pb-15">
                                        <div class="pro-comments-img">
                                            <img src="img/product/comments/02.png" alt="">
                                        </div>
                                        <div class="pro-commnets-text">
                                            <h4>
                                                Roger West -
                                                <span>June 5, 2018</span>
                                            </h4>
                                            <div class="pro-rating">
                                                <i class="far fa-star"></i>
                                                <i class="far fa-star"></i>
                                                <i class="far fa-star"></i>
                                                <i class="far fa-star"></i>
                                            </div>
                                            <p>
                                                Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor
                                                incididunt
                                                ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
                                                exercitation.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="review-box mt-50">
                                    <h4>Add a Review</h4>
                                    <div class="your-rating mb-40">
                                        <span>Your Rating:</span>
                                        <div class="rating-list">
                                            <a href="#">
                                                <i class="far fa-star"></i>
                                            </a>
                                            <a href="#">
                                                <i class="far fa-star"></i>
                                            </a>
                                            <a href="#">
                                                <i class="far fa-star"></i>
                                            </a>
                                            <a href="#">
                                                <i class="far fa-star"></i>
                                            </a>
                                            <a href="#">
                                                <i class="far fa-star"></i>
                                            </a>
                                        </div>
                                    </div>
                                    <form class="review-form" action="#">
                                        <div class="row">
                                            <div class="col-xl-12">
                                                <label for="message">YOUR REVIEW</label>
                                                <textarea name="message" id="message" cols="30" rows="10"></textarea>
                                            </div>
                                            <div class="col-xl-6">
                                                <label for="r-name">Name</label>
                                                <input type="text" id="r-name">
                                            </div>
                                            <div class="col-xl-6">
                                                <label for="r-email">Email</label>
                                                <input type="email" id="r-email">
                                            </div>
                                            <div class="col-xl-12">
                                                <button class="btn theme-btn">Add your Review</button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xl-4 col-lg-4">
                <div class="pro-details-banner">
                    <a href="shop.html"><img src="img/banner/pro-details.jpg" alt=""></a>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- shop-area end -->
@section Styles
{

    <style>
        .shop-link.shop-color li.active {
            border: 1px solid red;
        }
    </style>

}

@section Scripts{

    <script>let size = document.querySelectorAll(".shop-size li a");
        console.log(size);
        for (let s of size) {
            s.addEventListener("click", function (e) {
                e.preventDefault();

                let color = document.querySelector(".shop-color li.active a span");

                let newLink = s.getAttribute("href");
                newLink = newLink + "&color=" + color.getAttribute("class");

                let linkElement = document.createElement("a");
                linkElement.style.display = "none";
                linkElement.setAttribute("href", newLink);

                document.body.appendChild(linkElement);

                linkElement.click();


            });
        }</script>

}